define(function(require,exports,module){function a(a){var b=this,c=1,d=!1;this.setCssHW=function(){a.scroller.css({width:"100%",overflow:"hidden"}),a.scroller.children().css({"float":"left"});var b=a.perCount,c=a.scroller.children().length,d=a.wrapper.parent().width()/b,e=a.scroller.children(":eq(0)").height();a.scroller.children().width(d),a.scroller.width(d*c),a.scroller.height(e)},this.init=function(){b.setCssHW(),null!=a.wrapperObj&&(a.wrapperObj.destroy(),a.wrapperObj=null),a.showTab&&a.tabDiv.children(":eq(0)").addClass("current active").siblings().removeClass("current active");var c=require("iscroll");a.wrapperObj=new c(a.wrapper[0],{snap:!0,vScroll:!1,momentum:!1,hScrollbar:!1,vScrollbar:!1,onBeforeScrollStart:function(a){var b=a.explicitOriginalTarget?a.explicitOriginalTarget.nodeName.toLowerCase():a.target?a.target.nodeName.toLowerCase():"";"select"!=b&&"option"!=b&&"input"!=b&&"textarea"!=b&&this.absDistX>this.absDistY+5&&a.preventDefault()},onScrollStart:function(){d=!1,clearInterval(a.interval),a.interval=null},onScrollMove:function(){},onScrollEnd:function(){if(a.showTab){var c=a.tabDiv;c.children(":eq("+this.currPageX+")").addClass("current active").siblings().removeClass("current active")}!d&&a.auto&&b.autoScroll(),a.customSomeThing&&a.customSomeThing();var e=this;e.touchEndTimeId&&clearTimeout(e.touchEndTimeId),e.touchEndTimeId=setTimeout(function(){e.absDistX=0,e.absDistY=0},200)}}),a.auto&&b.autoScroll()},this.destroy=function(){null!=a.wrapperObj&&(a.wrapperObj.destroy(),a.wrapperObj=null),a.interval=null,clearInterval(a.interval),a.tabDiv.children(":eq(0)").addClass("current active").siblings().removeClass("current active")},this.autoScroll=function(){a.interval=setInterval(function(){null!=a.wrapperObj&&a.wrapper.is(":visible")&&(d=!0,a.wrapperObj.currPageX>=a.wrapperObj.pagesX.length-1?c=-1:a.wrapperObj.currPageX<=0&&(c=1),a.wrapperObj.currPageX+=c,a.wrapperObj.scrollToPage(a.wrapperObj.currPageX,0,800))},4e3)},this.getActivePage=function(){return a.wrapperObj.currPageX},this.scrollToPage=function(b,c){a.wrapperObj.scrollToPage(b,0,c)},b.init()}module.exports=a});